<!DOCTYPE html>
<html>
<head>
    <title>加入节流-定时器</title>
</head>
<body>
    <div>
        加入定时器：<input type="text" id="throttle"/>
    </div>
    <script type="text/javascript" src="./index.js"></script>
    <script>
        window.onload = () => {

          function a(data) {
            console.log('data', data)
            return arg => {
              console.log('arg', arg)
            }
          }

          function b(fn) {
            return fn()
          }

          b(a(111111))

            function ajax (data) {
                console.log(new Date().toLocaleTimeString() + ' - ' + data)
            }

            function throttle (fn, delay) {
                return args => {
                    console.log('args', args,)
                    // if (fn.id) return

                    // fn.id = setTimeout(() => {
                    //     fn.call(this, args)
                    //     clearTimeout(fn.id)
                    //     fn.id = null
                    // }, delay)
                }
            }

            const throttleAjax = throttle(ajax, 1000)

            document.querySelector('#throttle').addEventListener('keyup', e => {
                throttleAjax(e.target.value)
            })
        }
    </script>
</body>
</html>